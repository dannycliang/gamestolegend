<html>
  <head>
    <link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  </head>
  <style>
    img {
      -moz-transition: all .5s ease-in;
      -o-transition: all .5s ease-in;
      -webkit-transition: all .5s ease-in;
      transition: all .5s ease-in;
    }

    p {
      font-family: "Josefin Sans";
      font-size: 1.5em;
      text-align: center;
      white-space: pre-wrap
    }


    h1 {
      font-family: "Josefin Sans";
      font-size: 2em;
      font-weight: lighter;
      display: inline;
      line-height: 60px;
      -moz-transition: all .5s ease-in;
      -o-transition: all .5s ease-in;
      -webkit-transition: all .5s ease-in;
      transition: all .5s ease-in;
    }

    h2 {
      font-family: "Josefin Sans";
      font-size: 2em;
      font-weight: lighter;
    }

    h3 {
      font-family: "Josefin Sans";
      font-size: 3em;
      padding-right: 1em;
      cursor:pointer;
      font-weight: lighter;
      -moz-transition: all .5s ease-in;
      -o-transition: all .5s ease-in;
      -webkit-transition: all .5s ease-in;
      transition: all .5s ease-in;
    }

    h4 {
      font-family: "Josefin Sans";
      font-size: 3em;
      text-align: center;
      cursor:pointer;
      font-weight: lighter;
      -moz-transition: all .5s ease-in;
      -o-transition: all .5s ease-in;
      -webkit-transition: all .5s ease-in;
      transition: all .5s ease-in;
    }

    h5 {
      font-family: "Josefin Sans";
      font-size: 1.5em;
      text-align: center;
      font-weight: lighter;
    }

    h6 {
      font-family: "Josefin Sans";
      font-size: 3em;
      font-weight: lighter;
      text-align: center;
    }

    img {
      float: left;
    }

    ol {
      list-style-type: none;
    }

    li {
    	position: relative;
      display: inline;
      text-decoration: none;
      font-family: "Josefin Sans";
      font-size: 1.2em;
      cursor:pointer;
      margin-right: 0.5em;
      -moz-transition: all .5s ease-in;
      -o-transition: all .5s ease-in;
      -webkit-transition: all .5s ease-in;
      transition: all .5s ease-in;
    }

    li:before {
      content: "";
      position: absolute;
      width: 100%;
      height: 2px;
      bottom: 0;
      left: 0;
      background-color: #707070;
      visibility: hidden;
      -webkit-transform: scaleX(0);
      transform: scaleX(0);
      -webkit-transition: all 0.5s ease-in-out 0s;
      transition: all 0.5s ease-in-out 0s;
    }

    li:hover:before {
      visibility: visible;
      -webkit-transform: scaleX(0.9);
      transform: scaleX(0.9);
    }

    li:hover{
      color: #707070;
    }

    .title {
      position: absolute;
      display: none;
      top: 1em;
      left: 3em;
    }

    .header {
      position: absolute;
      display: none;
      top: 1em;
      right: 0.5em;
      width: 30em;
      padding-bottom: -3em;
    }


    .FastForm {
      position: relative;
      display: none;
      width: auto;
      justify-content: center;
      align-items: center;
      padding-top: 15%;
    }


    .qui {
      position: relative;
      display: none;
      top: 15%;
      width: 20em;
      float: left;
    }

    #result {
      position: absolute;
      display: flex;
      width: 12em;
      margin: 0 auto;
      left: 0;
      right: 0;
    }

    #AboutContainer {
      position: absolute;
      display: flex;
      top: 20%;
      width: 40em;
      margin: 0 auto;
      left: 0;
      right: 0;
    }

    #leftimage {
      display: flex;
      width: auto;
      justify-content: center;
      align-items: center;
    }

  </style>
  <title> Games to Legend </title>
  <body>
    <div class = "title">
      <h1 id = "name"> <img class="icon icons8-In-Progress" width="60" height="60" src="data:image/png;base64,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"> &nbsp;Games to Legend </h1>
    </div>
    <div id = "AboutContainer">
      <p id = "AboutText" style="display:none;"> This is a (by no means exact) tool for you to calculate how many games it'll take to reach your desired rank. It works by running 1000 simulations of your climb at the specified winrate, and averaging the number of games it takes to reach that rank. <br><br> Feel free to ask any questions and report any bugs to dclba726@gmail.com. <br> <br> Credits: <br> <br> <a href="https://icons8.com">Icon pack by Icons8</a> <br> <br>
    <div id = "result">
      {% if games %}
        <p id = "games"> You're about <span id="target" style="font-size: 100px; color:black;"> 0 </span> games away from rank {{ goal }} </p>
      {% endif %}
    </div>
    </div>
    <div id = "leftimage">
        <div class = "qui">
          <h5 id = "Instructions"> Hover for format </h5>
          <p id = "QuickDesc"> </p>
        </div>
    </div>
    <div class = "Fastform" id ="FastForm">
      {% block form %}{% endblock %}
    </div>
    <div class = "header">
      <ol>
        <li id = "LS"> League Simulator </li>
        <li id = "Home"> Home </li>
        <li id = "About"> About </li>
        <li id = "Misc"> Miscellaneous </li>
      </ol>
    </div>
    </div>
  <script>
  /** @preserve jQuery animateNumber plugin v0.0.14
   * (c) 2013, Alexandr Borisov.
   * https://github.com/aishek/jquery-animateNumber
   */

  // ['...'] notation using to avoid names minification by Google Closure Compiler
  (function($) {
    var reverse = function(value) {
      return value.split('').reverse().join('');
    };

    var defaults = {
      numberStep: function(now, tween) {
        var floored_number = Math.floor(now),
            target = $(tween.elem);

        target.text(floored_number);
      }
    };

    var handle = function( tween ) {
      var elem = tween.elem;
      if ( elem.nodeType && elem.parentNode ) {
        var handler = elem._animateNumberSetter;
        if (!handler) {
          handler = defaults.numberStep;
        }
        handler(tween.now, tween);
      }
    };

    if (!$.Tween || !$.Tween.propHooks) {
      $.fx.step.number = handle;
    } else {
      $.Tween.propHooks.number = {
        set: handle
      };
    }
    var extract_number_parts = function(separated_number, group_length) {
      var numbers = separated_number.split('').reverse(),
          number_parts = [],
          current_number_part,
          current_index,
          q;

      for(var i = 0, l = Math.ceil(separated_number.length / group_length); i < l; i++) {
        current_number_part = '';
        for(q = 0; q < group_length; q++) {
          current_index = i * group_length + q;
          if (current_index === separated_number.length) {
            break;
          }

          current_number_part = current_number_part + numbers[current_index];
        }
        number_parts.push(current_number_part);
      }

      return number_parts;
    };

    var remove_precending_zeros = function(number_parts) {
      var last_index = number_parts.length - 1,
          last = reverse(number_parts[last_index]);

      number_parts[last_index] = reverse(parseInt(last, 10).toString());
      return number_parts;
    };

    $.animateNumber = {
      numberStepFactories: {
        /**
         * Creates numberStep handler, which appends string to floored animated number on each step.
         *
         * @example
         * // will animate to 100 with "1 %", "2 %", "3 %", ...
         * $('#someid').animateNumber({
         *   number: 100,
         *   numberStep: $.animateNumber.numberStepFactories.append(' %')
         * });
         *
         * @params {String} suffix string to append to animated number
         * @returns {Function} numberStep-compatible function for use in animateNumber's parameters
         */
        append: function(suffix) {
          return function(now, tween) {
            var floored_number = Math.floor(now),
                target = $(tween.elem);

            target.prop('number', now).text(floored_number + suffix);
          };
        },

        /**
         * Creates numberStep handler, which format floored numbers by separating them to groups.
         *
         * @example
         * // will animate with 1 ... 217,980 ... 95,217,980 ... 7,095,217,980
         * $('#world-population').animateNumber({
         *    number: 7095217980,
         *    numberStep: $.animateNumber.numberStepFactories.separator(',')
         * });
         * @example
         * // will animate with 1% ... 217,980% ... 95,217,980% ... 7,095,217,980%
         * $('#salesIncrease').animateNumber({
         *   number: 7095217980,
         *   numberStep: $.animateNumber.numberStepFactories.separator(',', 3, '%')
         * });
         *
         * @params {String} [separator=' '] string to separate number groups
         * @params {String} [group_length=3] number group length
         * @params {String} [suffix=''] suffix to append to number
         * @returns {Function} numberStep-compatible function for use in animateNumber's parameters
         */
        separator: function(separator, group_length, suffix) {
          separator = separator || ' ';
          group_length = group_length || 3;
          suffix = suffix || '';

          return function(now, tween) {
            var negative = now < 0,
                floored_number = Math.floor((negative ? -1 : 1) * now),
                separated_number = floored_number.toString(),
                target = $(tween.elem);

            if (separated_number.length > group_length) {
              var number_parts = extract_number_parts(separated_number, group_length);

              separated_number = remove_precending_zeros(number_parts).join(separator);
              separated_number = reverse(separated_number);
            }

            target.prop('number', now).text((negative ? '-' : '') + separated_number + suffix);
          };
        }
      }
    };

    $.fn.animateNumber = function() {
      var options = arguments[0],
          settings = $.extend({}, defaults, options),

          target = $(this),
          args = [settings];

      for(var i = 1, l = arguments.length; i < l; i++) {
        args.push(arguments[i]);
      }

      // needs of custom step function usage
      if (options.numberStep) {
        // assigns custom step functions
        var items = this.each(function(){
          this._animateNumberSetter = options.numberStep;
        });

        // cleanup of custom step functions after animation
        var generic_complete = settings.complete;
        settings.complete = function() {
          items.each(function(){
            delete this._animateNumberSetter;
          });

          if ( generic_complete ) {
            generic_complete.apply(this, arguments);
          }
        };
      }

      return target.animate.apply(target, args);
    };

  }(jQuery));

      $(document).ready(function () {
        $('form').on('submit', function(e) {
            e.preventDefault()
            $.ajax({
                url : $(this).attr('action'),
                type: "POST",
                data: $(this).serialize()
            });
        });
});

$(document).ready(function(e) {
  $( ".title" ).fadeIn(700),
    $( ".header" ).fadeIn(700, function() {
      $( ".qui" ).fadeIn(700, function() {
        $( ".FastForm" ).css("display", "flex");
      })
    })
  })

$(document).ready(function(e) {
  $( "#Instructions" ).hover(function() {
    $( "#QuickDesc" ).text("Starting Rank and Goal Rank: Number from 1 to 25 \n\n Current Stars: Number from 0 to max stars for that rank \n\n Winrate: Integer between 0 and 100") },
    function() {$( "#QuickDesc" ).text("")}
  )
});



$("form").on('submit', function(e){
    var text = $(this).val();
    $.ajax({
      url: "/index",
      type: "GET",
      data: {games: games},
      success: function(response) {
        $("#target").html(response)
      },
    });
});


var decimal_places = 1;
var decimal_factor = decimal_places === 0 ? 1 : decimal_places * 10;
if ({{ games }} < 1000) {
  $("#target").animateNumber(
    {
      number: {{ games }} * 10,
      color: 'black',
      'font-size': '100px',

      numberStep: function(now, tween) {
        var floored_number = Math.floor(now) / decimal_factor,
            target = $(tween.elem);
        if (decimal_places > 0) {
          floored_number = floored_number.toFixed(decimal_places);
        }

        target.text(floored_number);
      }
    },
    2500
  )
} else if ({{ games }} < 1500){
  $("#target").text("too damn many");
} else {
  $("#games").text("Invalid summoner name");
}


$("#Home").click(function() {
  window.location.href = "http://dannyliang.com";
});

$("#About").click(function() {
    $(".qui").toggle(500),
      $(".man").toggle(500),
        $("#games").toggle(500),
        $("#AboutText").toggle(500),
        $("#FastForm").toggle(500)
  });

$("#LS").click(function() {
  window.location.href = "http://gamestodiamond.herokuapp.com";
})
  </script>
  <script>
    function imageChange(image) {
      if (image === 'leftimage') {
        document.getElementById('leftimage').style.backgroundImage = 'url(http://i.imgur.com/KCcjr0r.png?1)';
        document.getElementById('leftimage').style.backgroundSize = '100% 100%';
        document.getElementById('name').style.color = "#FFF";
        document.getElementById('Quick').style.color = "#FFF";
      } else {
        document.getElementById('rightimage').style.backgroundImage = 'url(http://i.imgur.com/7yEg6GJ.png?1)';
        document.getElementById('rightimage').style.backgroundSize = '100% 100%';
        document.getElementById('Manual').style.color = "#FFF";
        li = document.getElementsByTagName('LI');
        for (let i = 0; i < li.length; i++) {
          li[i].style.color = "#FFF";
        }
      }
    }
    function imageRevert(image) {
      if (image === 'leftimage') {
        document.getElementById('leftimage').style.backgroundImage = 'url(https://openclipart.org/download/233689/north-korean-maze-mobile-casino.svg)';
        document.getElementById('name').style.color = "#000";
        document.getElementById('Quick').style.color = "#000";
      } else {
        document.getElementById('rightimage').style.backgroundImage = 'url(https://openclipart.org/download/233689/north-korean-maze-mobile-casino.svg)';
        document.getElementById('Manual').style.color = "#000";
        li = document.getElementsByTagName('LI');
        for (let i = 0; i < li.length; i++) {
          li[i].style.color = "#000";
        }
      }
    }
  </script>
  </body>
</html>
